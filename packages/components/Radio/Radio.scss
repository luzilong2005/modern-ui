@use "@modern-ui/theme/index.scss" as *;

.mu-radio {
    @each $s, $v in $height-map {
        --mu-radio-height-#{$s}: #{calc($v * 0.5)};
    }
    @each $s, $v in $text-size-map {
        --mu-radio-text-size-#{$s}: #{calc($v * 0.75)};
    }

    --mu-radio-label-color: var(--mu-color-black);
    --mu-radio-label-on-disabled-color: var(--mu-color-gray-5);

    --mu-radio-border-color: var(--mu-color-gray-5);
    --mu-radio-border-on-disabled-color: var(--mu-color-gray-4);

    --mu-radio-dot-color: transparent;
    --mu-radio-dot-on-disabled-color: var(--mu-color-gray-3);
    --mu-radio-dot-on-checked-color: var(--mu-color-primary);
    --mu-radio-dot-on-checked-disabled-color: var(--mu-color-primary-disabled);

    @include initial;
    display: inline-flex;
    align-items: center;
    align-self: start;
    gap: 0.75rem;

    .mu-radio__input,
    .mu-radio__input::before,
    .mu-radio__label {
        @include initial;
        cursor: pointer;
    }

    @each $s in $sizes {
        &.mu-radio--size-#{$s} {
            .mu-radio__input,
            .mu-radio__input::before {
                height: var(--mu-radio-height-#{$s});
                width: var(--mu-radio-height-#{$s});
            }
            .mu-radio__label {
                font-size: var(--mu-radio-text-size-#{$s});
            }
        }
    }

    .mu-radio__input {
        position: relative;
        display: inline-flex;
        appearance: none;
        border: 1px solid var(--mu-radio-border-color);
        border-radius: 50%;

        &::before {
            content: "";
            position: absolute;
            top: -1px;
            left: -1px;
            display: block;
            background-color: var(--mu-radio-dot-color);
            transform: scale(0.75);
            border-radius: 50%;
        }

        &:checked::before {
            background-color: var(--mu-radio-dot-on-checked-color);
        }
    }

    .mu-radio__label {
        display: block;
    }

    &.mu-radio--label-left {
        flex-direction: row-reverse;
    }
    &.mu-radio--label-right {
        flex-direction: row;
    }

    &.mu-radio--disabled {
        .mu-radio__input,
        .mu-radio__input::before,
        .mu-radio__label {
            cursor: not-allowed;
        }

        .mu-radio__input {
            border-color: var(--mu-radio-border-on-disabled-color);
            background-color: var(--mu-radio-dot-on-disabled-color);

            &::before {
                background-color: var(--mu-radio-dot-on-disabled-color);
            }
            &:checked::before {
                background-color: var(--mu-radio-dot-on-checked-disabled-color);
            }
        }
        .mu-radio__label {
            color: var(--mu-radio-label-on-disabled-color);
        }
    }
}
